<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Installation - hIPPYlib</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-52448613-3', 'hippylib.github.io');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="..">hIPPYlib</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorial <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../tutorial/">README</a>
                        </li>
                    
                        <li >
                            <a href="../tutorials/1_FEniCS101/">FEniCS101</a>
                        </li>
                    
                        <li >
                            <a href="../tutorials/2_PoissonDeterministic/">Poisson Deterministic</a>
                        </li>
                    
                        <li >
                            <a href="../tutorials/3_SubsurfaceBayesian/">Subsurface Bayesian</a>
                        </li>
                    
                        <li >
                            <a href="../tutorials/4_AdvectionDiffusionBayesian/">Advection-Diffusion Bayesian</a>
                        </li>
                    
                        <li >
                            <a href="../tutorials/5_HessianSpectrum/">Hessian Spectrum</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="active">
                    <a href="./">Installation</a>
                </li>
            
            
            
                <li >
                    <a href="../download/">Download</a>
                </li>
            
            
            
                <li >
                    <a href="../research/">Research</a>
                </li>
            
            
            
                <li >
                    <a href="../outreach/">Outreach</a>
                </li>
            
            
            
                <li >
                    <a href="../about/">About</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../tutorials/5_HessianSpectrum/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../download/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/hippylib/hippylib">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#installation">Installation</a></li>
        
            <li><a href="#download-hippylib">Download hippylib</a></li>
        
            <li><a href="#buid-fenics-from-source-using-hashdist-linux-and-macos">Buid FEniCS from source using hashdist (Linux and MacOS)</a></li>
        
            <li><a href="#run-fenics-from-docker-linux-macos-windows">Run FEniCS from Docker (Linux, MacOS, Windows)</a></li>
        
            <li><a href="#other-ways-to-build-fenics">Other ways to build FEniCS</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="installation">Installation</h1>
<h2 id="download-hippylib">Download hippylib</h2>
<p>Release 1.5.0 of hIPPYlib is available for download <a href="https://goo.gl/doJZRB">here</a>.
Simply decompress the file <code>hippylib-1.5.0.tgz</code> in your working directory.</p>
<p>There is no installation necessary.
You can directly run the examples from the <code>application</code> folder or view the notebooks from the <code>tutorial</code> folder. </p>
<p>To checkout the development version of hippylib use the command</p>
<pre><code class="sh">git clone https://github.com/hippylib/hippylib.git 
</code></pre>

<p>hIPPYlib depends on <a href="http://fenicsproject.org/">FEniCS</a> version 1.6 or
above.  The suggested version of FEniCS to use with hIPPYlib is
2016.2.</p>
<p>FEniCS needs to be built with the following dependecies:</p>
<ul>
<li>numpy, scipy, matplotlib</li>
<li>PETSc and petsc4py (version 3.7.0 or above)</li>
<li>SLEPc and slepc4py (version 3.7.0 or above)</li>
<li>PETSc dependencies: parmetis, scotch, suitesparse, superlu_dist, ml</li>
<li>(optional): mshr, jupyter</li>
</ul>
<h2 id="buid-fenics-from-source-using-hashdist-linux-and-macos">Buid FEniCS from source using hashdist (Linux and MacOS)</h2>
<p>To build FEniCS from source we suggest using the scripts and profile
files in <code>fenics-hashdist</code>.</p>
<p>These scripts and profile files contain
small modifications with respect to the ones provided by the FEniCS
community to ensure that all the dependencies needed by hIPPYlib are
installed.</p>
<h3 id="step-by-step-build">Step-by-step build</h3>
<ul>
<li><em>Select the correct hashdist profile file</em></li>
</ul>
<p>If you are running MacOS</p>
<pre><code class="sh">ln -s local-darwin.yaml local.yaml
</code></pre>

<p>If you are running Linux:</p>
<pre><code class="sh">ln -s local-linux.yaml local.yaml
</code></pre>

<ul>
<li><em>Build FEniCS and all its dependencies</em></li>
</ul>
<pre><code class="sh">chmod +x fenics-install.sh
./fenics-install.sh
</code></pre>

<p>This can take several hours.</p>
<p>When it completes, a file <code>fenics.custom</code> will be generated.
This files contains all the paths you need to add to your enviroment to run FEniCS.</p>
<ul>
<li><em>Source the fenics configuration file</em></li>
</ul>
<p>Everytime you open a new shell, you will have to add all the FEniCS
paths to your enviroment before you can use FEniCS.</p>
<pre><code class="sh">source &lt;HIPPYLIB_BASE_DIR&gt;/fenics-hashdist/fenics.custom
</code></pre>

<p>where <code>&lt;HIPPYLIB_BASE_DIR&gt;</code> is the absolute path to the folder where
hIPPYlib resides.</p>
<p>See <a href="https://github.com/hippylib/hippylib/blob/v1.2.0/fenics-hashdist/README.md">fenics-hashdist/README.md</a>
for further details.</p>
<h2 id="run-fenics-from-docker-linux-macos-windows">Run FEniCS from Docker (Linux, MacOS, Windows)</h2>
<p>An easy way to run FEniCS is to use their prebuilt Docker images.</p>
<p>First you will need to install <a href="https://www.docker.com/">Docker</a> on
your system.  MacOS and Windows users should preferably use <code>Docker
for Mac</code> or <code>Docker for Windows</code> --- if it is compatible with their
system --- instead of the legacy version <code>Docker Toolbox</code>.</p>
<p>Among the many docker's workflow discussed
<a href="http://fenics.readthedocs.io/projects/containers/en/latest/quickstart.html">here</a>,
we suggest using the <code>Jupyter notebook</code>
<a href="http://fenics.readthedocs.io/projects/containers/en/latest/jupyter.html">one</a>.</p>
<h3 id="docker-for-mac-docker-for-windows-and-linux-users-setup-and-first-use">Docker for Mac, Docker for Windows and Linux users (<em>Setup and first use</em>)</h3>
<p>We first create a new Docker container to run the <code>jupyter-notebook</code>
command and to expose port <code>8888</code>.</p>
<p>From a command line shell, go to the <code>hippylib</code> folder and type:</p>
<pre><code class="sh">docker run --name hippylib-nb -w /home/fenics/hippylib -v $(pwd):/home/fenics/hippylib -d -p 127.0.0.1:8888:8888 quay.io/fenicsproject/stable:2016.2.0 'jupyter-notebook --ip=0.0.0.0'
docker logs hippylib-nb
</code></pre>

<p>The notebook will be available at
<code>http://localhost:8888/?token=&lt;security_token_for_first_time_connection&gt;</code>
in your web browser.</p>
<p>From there you can run the interactive notebooks
or create a new shell (directly from your browser) to run python
scripts.</p>
<h3 id="docker-toolbox-users-on-macwindows-setup-and-first-use">Docker Toolbox users on Mac/Windows (<em>Setup and first use</em>)</h3>
<p>Docker Toolbox is for older Mac and Windows systems that do not meet
the requirements of <code>Docker for Mac</code> or <code>Docker for Windows</code>.  Docker
Toolbox will first create a lightweight linux virtual machine on your
system and run docker from the virtual machine.  This has implications
on the workflow presented above.</p>
<p>We first create a new Docker container to run the 'jupyter-notebook' command and to expose port <code>8888</code> on the virtual machine.</p>
<p>From a command line shell, go to the <code>hippylib</code> folder and type:</p>
<pre><code class="sh">docker run --name hippylib-nb -w /home/fenics/hippylib -v $(pwd):/home/fenics/hippylib -d -p $(docker-machine ip $(docker-machine active)):8888:8888 quay.io/fenicsproject/stable:2016.2.0 'jupyter-notebook --ip=0.0.0.0'
docker logs hippylib-nb
</code></pre>

<p>To find out the IP of the virtual machine we type:</p>
<pre><code class="sh">docker-machine ip $(docker-machine active)
</code></pre>

<p>The notebook will be available at <code>http://&lt;ip-of-virtual-machine&gt;:8888/?token=&lt;security_token_for_first_time_connection&gt;</code> in your web browser.
From there you can run the interactive notebooks or create a new shell (directly from your browser) to run python scripts.</p>
<h3 id="subsequent-uses">Subsequent uses</h3>
<p>The docker container will continue to run in the background until we stop it:</p>
<pre><code class="sh">docker stop hippylib-nb
</code></pre>

<p>To start it again just run:</p>
<pre><code class="sh">docker start hippylib-nb
</code></pre>

<p>If you would like to see the log output from the Jupyter notebook server (e.g. if you need the security token) type:</p>
<pre><code class="sh">docker logs hippylib-nb
</code></pre>

<h2 id="other-ways-to-build-fenics">Other ways to build FEniCS</h2>
<p>For instructions on other ways to build FEniCS (e.g. using <code>Anaconda</code>
or <code>apt-get</code> in Ubuntu), we refer to the FEniCS project <a href="https://fenicsproject.org/download/">download
page</a>.  Note that this
instructions always refer to the latest version of FEniCS which may or
may not be yet supported by hIPPYlib. Always check the hIPPYlib
website for supported FEniCS versions.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
                <center>Copyright &copy; 2016-2017 The University of Texas at Austin, University of California Merced. <br> This material is based on work partially supported by the National Science Foundation under Grants No ACI-1550593, ACI-1550547.</center>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </body>
</html>